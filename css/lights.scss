@import 'variables';
@import 'mixins';

$button-scale: .7;

#lights {
    .lights,
    .bins,
    .selectable {
        @include center;
        display: flex;
        top: auto;
        bottom: -10%;
        width: 70%;
        justify-content: space-between;

        > * {
            @include bin-button;
            display: inline-block;
            position: relative;
            transform: scale($button-scale);
        }
    }

    .lights {
        > * {
            background: none;

            &::before {
                @include background('#{$image}lights.png');
                @include position(absolute, null null -50px 50%);
                transform: translateX(-50%);
                z-index: -2;
                width: #{240 / $button-scale}px;
                height: #{600 / $button-scale}px;
                content: '';
            }
        }
    }

    .bins {
        > * {
            background: none;

            $bins: compost landfill recycle food-share liquids;
            $scales:   1.3      1.3     1.3        1.6     2.1;
            @for $i from 1 through length($bins) {
                &.#{nth($bins, $i)}::before {
                    @include bin-sprite($i);
                    @include position(absolute, null null -25px 50%);
                    transform: scale(#{nth($scales, $i)}) translateX(-50%);
                    z-index: -1;
                    content: '';
                    transform-origin: 0 100%;
                }
            }

            &.liquids::before {
                height: 164px;
            }

            &.food-share::before {
                height: 168px;
            }
        }
    }

    .selectable {
        > * {
            @include bin-button;

            &.HIGHLIGHTED {
                @include bin-button(2);
                pointer-events: none;
            }
        }
    }

    .selectable-reveal {
        @include cover;
        z-index: 1;
    }

    .reveal {
        background-color: $transparent-white;

        li {
            transform: translateX(1000px) translateY(-50%);
            transition: transform .5s .5s;
            width: 100%;
            height: 100%;

            &::before {
                @include cover;
                @include background('#{$frame}frame.01.png');
                left: 10%;
                transform: scale3d(-1, 1, 1);
                width: 120%;
                content: '';
            }

            &.OPEN {
                transform: translateX(-50%) translateY(-50%);
            }
        }

        p {
            @include center;
            width: 600px;
        }

        .close-reveal {
            right: 215px;
            bottom: 75px;
        }
    }
}
